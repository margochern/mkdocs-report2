{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to MkDocs For full documentation visit mkdocs.org . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Home"},{"location":"#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"base/","text":"\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u0411\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b, \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044e: \u041e\u0431\u0449\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b: \u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441 \u0445\u0435\u0434\u0435\u0440\u043e\u043c \u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u0441\u0442\u0438\u043b\u0435\u0439 \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043e\u0442\u0435\u043b\u0435\u0439 \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d \u0428\u0430\u0431\u043b\u043e\u043d base.html \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043e\u0441\u043d\u043e\u0432\u0430 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u043f\u0440\u043e\u0435\u043a\u0442\u0430. \u041e\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442: - \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0438\u043b\u0435\u0439 \u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a (Bootstrap 5.3, Flatpickr). - \u0425\u0435\u0434\u0435\u0440 \u0441 \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u043e\u043c, \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0435\u0439 \u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u043c\u0438 \u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438 (\u043b\u043e\u0433\u0438\u043d, \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f, \u0430\u043a\u043a\u0430\u0443\u043d\u0442, \u0432\u044b\u0445\u043e\u0434). - \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0447\u0435\u0440\u0435\u0437 \u0431\u043b\u043e\u043a\u0438 {% block title %} \u0438 {% block main_contents %} . \u041a\u043e\u0434: <!doctype html> <html lang=\"en\"> <head> <meta charset=\"utf-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"> <title>{% block title %}Base page{% endblock %}</title> <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\" crossorigin=\"anonymous\"> {% load static %} <style> a:link, a:visited { text-decoration: inherit; color: inherit; cursor: auto; } </style> <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css\"> </head> <body> <div class=\"container\"> <header class=\"d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom\"> <div class=\"col-md-3 mb-2 mb-md-0\"> <a href=\"/\" class=\"d-inline-flex link-body-emphasis text-decoration-none\"> <!-- SVG \u041b\u043e\u0433\u043e\u0442\u0438\u043f --> </a> </div> <ul class=\"nav col-12 col-md-auto mb-2 justify-content-center mb-md-0\"> <li><a href=\"/\" class=\"nav-link px-2 link-secondary\">Home</a></li> <li><a href=\"/hotels/\" class=\"nav-link px-2\">Hotels</a></li> <li><a href=\"/bookings/\" class=\"nav-link px-2\">Your bookings</a></li> <li><a href=\"/admin/\" class=\"nav-link px-2\">Admin</a></li> </ul> <div class=\"col-md-3 text-end\"> {% if not user.is_authenticated %} <button type=\"button\" class=\"btn btn-outline-primary me-2\"><a href=\"/login/\" class=\"nav-link px-2\">Login</a></button> <button type=\"button\" class=\"btn btn-primary\"><a href=\"/register/\" class=\"nav-link px-2\" style=\"color: white\">Sign-up</a></button> {% else %} <button type=\"button\" class=\"btn btn-outline-primary me-2\"><a href=\"/bookings/\" class=\"nav-link px-2\">Your account</a></button> <button type=\"button\" class=\"btn btn-primary\"><a href=\"/logout/\" class=\"nav-link px-2\" style=\"color: white\">Logout</a></button> {% endif %} </div> </header> </div> <div class=\"container\"> {% block main_contents %} <h1>Hello, world!</h1> <p>You should never see that</p> {% endblock %} </div> <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\" integrity=\"sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\" crossorigin=\"anonymous\"></script> <script> document.addEventListener('DOMContentLoaded', function () { flatpickr(\".flatpickr\", { dateFormat: \"Y-m-d\", minDate: \"today\", }); }); </script> </body> </html> \u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u043c\u0435\u043d\u044e \u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Bootstrap. \u041e\u043d\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439, \u0432\u0430\u0448\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430. \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ( is_authenticated ), \u0432 \u0445\u0435\u0434\u0435\u0440\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u043a\u043d\u043e\u043f\u043a\u0438: - \u0414\u043b\u044f \u043d\u0435\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: \"Login\" \u0438 \"Sign-up\". - \u0414\u043b\u044f \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: \"Your account\" \u0438 \"Logout\". \u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439 \u0428\u0430\u0431\u043b\u043e\u043d \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439 \u0432 \u0432\u0438\u0434\u0435 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a. \u041a\u0430\u0436\u0434\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442: - \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f. - \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435. - \u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446. - \u0410\u0434\u0440\u0435\u0441. - \u0421\u0440\u0435\u0434\u043d\u044e\u044e \u043e\u0446\u0435\u043d\u043a\u0443. \u041f\u0440\u0438\u043c\u0435\u0440: <ul> {% for hotel, rating in hotel_ratings.items %} <li> <a href=\"/hotels/{{ hotel.id }}/\" style=\"color: black\"> <div class=\"container\"> <div class=\"row\"> <div class=\"col\"> <div class=\"h4\">{{ hotel.name }}</div> <p class=\"h5\">Description</p> <p>{{ hotel.description }}</p> </div> <div class=\"col\"> <div class=\"h5\">Owner</div> <p>{{ hotel.owner.username }}</p> <p>Address: {{ hotel.address }}</p> <p>Average rating: {{ rating }}</p> </div> </div> </div> </a> <hr> </li> {% endfor %} </ul>","title":"\u0428\u0430\u0431\u043b\u043e\u043d\u044b"},{"location":"base/#_1","text":"","title":"\u0428\u0430\u0431\u043b\u043e\u043d\u044b"},{"location":"base/#_2","text":"","title":"\u0411\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b, \u043a\u0430\u0436\u0434\u044b\u0439 \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044e:"},{"location":"base/#_3","text":"\u0411\u0430\u0437\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441 \u0445\u0435\u0434\u0435\u0440\u043e\u043c \u0438 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u0441\u0442\u0438\u043b\u0435\u0439 \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043e\u0442\u0435\u043b\u0435\u0439","title":"\u041e\u0431\u0449\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b:"},{"location":"base/#_4","text":"","title":"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"},{"location":"base/#_5","text":"\u0428\u0430\u0431\u043b\u043e\u043d base.html \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a \u043e\u0441\u043d\u043e\u0432\u0430 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u043f\u0440\u043e\u0435\u043a\u0442\u0430. \u041e\u043d \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442: - \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0438\u043b\u0435\u0439 \u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a (Bootstrap 5.3, Flatpickr). - \u0425\u0435\u0434\u0435\u0440 \u0441 \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u043e\u043c, \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0435\u0439 \u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u043c\u0438 \u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438 (\u043b\u043e\u0433\u0438\u043d, \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f, \u0430\u043a\u043a\u0430\u0443\u043d\u0442, \u0432\u044b\u0445\u043e\u0434). - \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u0447\u0435\u0440\u0435\u0437 \u0431\u043b\u043e\u043a\u0438 {% block title %} \u0438 {% block main_contents %} .","title":"\u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d"},{"location":"base/#_6","text":"<!doctype html> <html lang=\"en\"> <head> <meta charset=\"utf-8\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"> <title>{% block title %}Base page{% endblock %}</title> <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\" crossorigin=\"anonymous\"> {% load static %} <style> a:link, a:visited { text-decoration: inherit; color: inherit; cursor: auto; } </style> <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css\"> </head> <body> <div class=\"container\"> <header class=\"d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom\"> <div class=\"col-md-3 mb-2 mb-md-0\"> <a href=\"/\" class=\"d-inline-flex link-body-emphasis text-decoration-none\"> <!-- SVG \u041b\u043e\u0433\u043e\u0442\u0438\u043f --> </a> </div> <ul class=\"nav col-12 col-md-auto mb-2 justify-content-center mb-md-0\"> <li><a href=\"/\" class=\"nav-link px-2 link-secondary\">Home</a></li> <li><a href=\"/hotels/\" class=\"nav-link px-2\">Hotels</a></li> <li><a href=\"/bookings/\" class=\"nav-link px-2\">Your bookings</a></li> <li><a href=\"/admin/\" class=\"nav-link px-2\">Admin</a></li> </ul> <div class=\"col-md-3 text-end\"> {% if not user.is_authenticated %} <button type=\"button\" class=\"btn btn-outline-primary me-2\"><a href=\"/login/\" class=\"nav-link px-2\">Login</a></button> <button type=\"button\" class=\"btn btn-primary\"><a href=\"/register/\" class=\"nav-link px-2\" style=\"color: white\">Sign-up</a></button> {% else %} <button type=\"button\" class=\"btn btn-outline-primary me-2\"><a href=\"/bookings/\" class=\"nav-link px-2\">Your account</a></button> <button type=\"button\" class=\"btn btn-primary\"><a href=\"/logout/\" class=\"nav-link px-2\" style=\"color: white\">Logout</a></button> {% endif %} </div> </header> </div> <div class=\"container\"> {% block main_contents %} <h1>Hello, world!</h1> <p>You should never see that</p> {% endblock %} </div> <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\" integrity=\"sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz\" crossorigin=\"anonymous\"></script> <script> document.addEventListener('DOMContentLoaded', function () { flatpickr(\".flatpickr\", { dateFormat: \"Y-m-d\", minDate: \"today\", }); }); </script> </body> </html>","title":"\u041a\u043e\u0434:"},{"location":"base/#_7","text":"\u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Bootstrap. \u041e\u043d\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443, \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439, \u0432\u0430\u0448\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430. \u0412 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f ( is_authenticated ), \u0432 \u0445\u0435\u0434\u0435\u0440\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u043a\u043d\u043e\u043f\u043a\u0438: - \u0414\u043b\u044f \u043d\u0435\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: \"Login\" \u0438 \"Sign-up\". - \u0414\u043b\u044f \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: \"Your account\" \u0438 \"Logout\".","title":"\u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u043c\u0435\u043d\u044e"},{"location":"base/#_8","text":"\u0428\u0430\u0431\u043b\u043e\u043d \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439 \u0432 \u0432\u0438\u0434\u0435 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a. \u041a\u0430\u0436\u0434\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442: - \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f. - \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435. - \u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446. - \u0410\u0434\u0440\u0435\u0441. - \u0421\u0440\u0435\u0434\u043d\u044e\u044e \u043e\u0446\u0435\u043d\u043a\u0443.","title":"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439"},{"location":"base/#_9","text":"<ul> {% for hotel, rating in hotel_ratings.items %} <li> <a href=\"/hotels/{{ hotel.id }}/\" style=\"color: black\"> <div class=\"container\"> <div class=\"row\"> <div class=\"col\"> <div class=\"h4\">{{ hotel.name }}</div> <p class=\"h5\">Description</p> <p>{{ hotel.description }}</p> </div> <div class=\"col\"> <div class=\"h5\">Owner</div> <p>{{ hotel.owner.username }}</p> <p>Address: {{ hotel.address }}</p> <p>Average rating: {{ rating }}</p> </div> </div> </div> </a> <hr> </li> {% endfor %} </ul>","title":"\u041f\u0440\u0438\u043c\u0435\u0440:"},{"location":"forms/","text":"\u0424\u043e\u0440\u043c\u044b \u0411\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u0444\u043e\u0440\u043c\u044b \u0434\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435. \u042d\u0442\u0438 \u0444\u043e\u0440\u043c\u044b \u0443\u043f\u0440\u043e\u0449\u0430\u044e\u0442 \u0432\u0432\u043e\u0434 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0442 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c. \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0424\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0438 \u043f\u0430\u0440\u043e\u043b\u044f. class CustomUserCreationForm(UserCreationForm): class Meta: model = User fields = ['username', 'email', 'password1', 'password2'] \u041f\u043e\u043b\u044f: - username \u2014 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. - email \u2014 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430. - password1 \u0438 password2 \u2014 \u043f\u0430\u0440\u043e\u043b\u044c \u0438 \u0435\u0433\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435. \u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0424\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u041f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u044b \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0434\u0430\u0442\u044b \u043d\u0430\u0447\u0430\u043b\u0430 \u0438 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. class ReservationForm(ModelForm): dt_start = DateField( widget=DateInput(attrs={ 'class': 'form-control', 'type': 'date', 'placeholder': 'Start Date' }), label='Start Date', required=True ) dt_end = DateField( widget=DateInput(attrs={ 'class': 'form-control', 'type': 'date', 'placeholder': 'End Date' }), label='End Date', required=True ) class Meta: model = Reservation fields = ['dt_start', 'dt_end'] \u041f\u043e\u043b\u044f: - dt_start \u2014 \u0434\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0432\u0438\u0434\u0436\u0435\u0442\u0430 \u0434\u043b\u044f \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u0442\u044b. - dt_end \u2014 \u0434\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u0422\u0430\u043a\u0436\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0441 \u0432\u0438\u0434\u0436\u0435\u0442\u043e\u043c \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u0430\u0442\u044b. \u0412\u044b\u0432\u043e\u0434 \u0421\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u0444\u043e\u0440\u043c\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u0443 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439, \u043c\u0438\u043d\u0438\u043c\u0438\u0437\u0438\u0440\u0443\u044f \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u043e\u0448\u0438\u0431\u043e\u043a \u043f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 \u0434\u0430\u043d\u043d\u044b\u0445. \u0424\u043e\u0440\u043c\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u0434\u043e\u0431\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0443\u0447\u0435\u0442\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438, \u0430 \u0444\u043e\u0440\u043c\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0431\u043b\u0435\u0433\u0447\u0430\u0435\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u0442\u0430\u043c\u0438 \u0438 \u0434\u0435\u0442\u0430\u043b\u044f\u043c\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439.","title":"\u0424\u043e\u0440\u043c\u044b"},{"location":"forms/#_1","text":"\u0411\u044b\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u0444\u043e\u0440\u043c\u044b \u0434\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435. \u042d\u0442\u0438 \u0444\u043e\u0440\u043c\u044b \u0443\u043f\u0440\u043e\u0449\u0430\u044e\u0442 \u0432\u0432\u043e\u0434 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0442 \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c.","title":"\u0424\u043e\u0440\u043c\u044b"},{"location":"forms/#_2","text":"","title":"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"},{"location":"forms/#_3","text":"\u0424\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0438 \u043f\u0430\u0440\u043e\u043b\u044f. class CustomUserCreationForm(UserCreationForm): class Meta: model = User fields = ['username', 'email', 'password1', 'password2'] \u041f\u043e\u043b\u044f: - username \u2014 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. - email \u2014 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430. - password1 \u0438 password2 \u2014 \u043f\u0430\u0440\u043e\u043b\u044c \u0438 \u0435\u0433\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435.","title":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},{"location":"forms/#_4","text":"\u0424\u043e\u0440\u043c\u0430 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u041f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u044b \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0434\u0430\u0442\u044b \u043d\u0430\u0447\u0430\u043b\u0430 \u0438 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. class ReservationForm(ModelForm): dt_start = DateField( widget=DateInput(attrs={ 'class': 'form-control', 'type': 'date', 'placeholder': 'Start Date' }), label='Start Date', required=True ) dt_end = DateField( widget=DateInput(attrs={ 'class': 'form-control', 'type': 'date', 'placeholder': 'End Date' }), label='End Date', required=True ) class Meta: model = Reservation fields = ['dt_start', 'dt_end'] \u041f\u043e\u043b\u044f: - dt_start \u2014 \u0434\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0432\u0438\u0434\u0436\u0435\u0442\u0430 \u0434\u043b\u044f \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u0442\u044b. - dt_end \u2014 \u0434\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u0422\u0430\u043a\u0436\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0441 \u0432\u0438\u0434\u0436\u0435\u0442\u043e\u043c \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u0430\u0442\u044b.","title":"\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},{"location":"forms/#_5","text":"\u0421\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u0444\u043e\u0440\u043c\u044b \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0442\u0443 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439, \u043c\u0438\u043d\u0438\u043c\u0438\u0437\u0438\u0440\u0443\u044f \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c \u043e\u0448\u0438\u0431\u043e\u043a \u043f\u0440\u0438 \u0432\u0432\u043e\u0434\u0435 \u0434\u0430\u043d\u043d\u044b\u0445. \u0424\u043e\u0440\u043c\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u0434\u043e\u0431\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0443\u0447\u0435\u0442\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438, \u0430 \u0444\u043e\u0440\u043c\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0431\u043b\u0435\u0433\u0447\u0430\u0435\u0442 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u0442\u0430\u043c\u0438 \u0438 \u0434\u0435\u0442\u0430\u043b\u044f\u043c\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439.","title":"\u0412\u044b\u0432\u043e\u0434"},{"location":"models/","text":"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u043c\u043e\u0434\u0435\u043b\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0442\u0435\u043b\u0435\u0439 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0442\u0435\u043b\u0435\u0439 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0430, \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0442\u0437\u044b\u0432\u044b \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430\u043c\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u041e\u043d\u0430 \u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u043a\u0430\u043a \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 (\u0433\u043e\u0441\u0442\u0435\u0439), \u0442\u0430\u043a \u0438 \u043d\u0430 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043e\u0442\u0435\u043b\u0435\u0439, \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044f \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043e\u0431 \u043e\u0442\u0435\u043b\u044f\u0445, \u043d\u043e\u043c\u0435\u0440\u0430\u0445 \u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\u0445. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b: \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f\u043c\u0438 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430\u043c\u0438. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u0430\u043c\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0438\u0445 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438 \u043e\u0441\u043d\u0430\u0449\u0435\u043d\u0438\u0435. \u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438, \u0441 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (\u0441\u043e\u0437\u0434\u0430\u043d\u043e, \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u043e, \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e \u0438 \u0434\u0440.). \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u0413\u0438\u0431\u043a\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043d\u043e\u043c\u0435\u0440\u043e\u0432 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0438\u0445 \u0442\u0438\u043f\u0430 \u0438 \u043d\u0430\u0431\u043e\u0440\u0430 \u0443\u0434\u043e\u0431\u0441\u0442\u0432. \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 RoomType \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0442\u0438\u043f \u043d\u043e\u043c\u0435\u0440\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0434\u043d\u043e\u043c\u0435\u0441\u0442\u043d\u044b\u0439, \u043b\u044e\u043a\u0441 \u0438 \u0442. \u0434.). \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - room_type (\u0441\u0442\u0440\u043e\u043a\u0430) \u2014 \u0442\u0438\u043f \u043d\u043e\u043c\u0435\u0440\u0430. class RoomType(models.Model): room_type = models.CharField(max_length=120) def __str__(self): return self.room_type Convenience \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0432 \u043d\u043e\u043c\u0435\u0440\u0430\u0445 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, Wi-Fi, \u043a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440). \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - convenience (\u0441\u0442\u0440\u043e\u043a\u0430) \u2014 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430. class Convenience(models.Model): convenience = models.CharField(max_length=120) def __str__(self): return self.convenience Hotel \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u0425\u0440\u0430\u043d\u0438\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u043e\u0442\u0435\u043b\u044f\u0445, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430\u043c\u0438. \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - name (\u0441\u0442\u0440\u043e\u043a\u0430) \u2014 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f. - description (\u0442\u0435\u043a\u0441\u0442) \u2014 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f. - address (\u0441\u0442\u0440\u043e\u043a\u0430) \u2014 \u0430\u0434\u0440\u0435\u0441 \u043e\u0442\u0435\u043b\u044f. - owner (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043e\u0442\u0435\u043b\u044f). class Hotel(models.Model): name = models.CharField(max_length=120) description = models.TextField() address = models.CharField(max_length=120) owner = models.ForeignKey(User, on_delete=models.CASCADE) def __str__(self): return self.name Room \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 \u0432 \u043e\u0442\u0435\u043b\u044f\u0445. \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - hotel (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u043e\u0442\u0435\u043b\u044c, \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0438\u0442 \u043d\u043e\u043c\u0435\u0440. - n_people (\u0447\u0438\u0441\u043b\u043e) \u2014 \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0430. - cost (\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e) \u2014 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0430 \u0437\u0430 \u0434\u0435\u043d\u044c. - room_type (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u0442\u0438\u043f \u043d\u043e\u043c\u0435\u0440\u0430. - conveniences (\u0441\u0432\u044f\u0437\u044c \u043c\u043d\u043e\u0433\u0438\u0435-\u043a\u043e-\u043c\u043d\u043e\u0433\u0438\u043c) \u2014 \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0434\u043e\u0431\u0441\u0442\u0432 \u043d\u043e\u043c\u0435\u0440\u0430. class Room(models.Model): hotel = models.ForeignKey(Hotel, on_delete=models.CASCADE) n_people = models.IntegerField() cost = models.PositiveIntegerField() room_type = models.ForeignKey(RoomType, on_delete=models.CASCADE) conveniences = models.ManyToManyField(Convenience) def __str__(self): return f'room {self.id} in {self.hotel.name}' Reservation \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u041e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u043e\u043c\u0435\u0440\u043e\u0432. \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - user (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0434\u0435\u043b\u0430\u043b \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435. - room (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u043d\u043e\u043c\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0440\u043e\u043d\u0438\u0440\u0443\u0435\u0442\u0441\u044f. - dt_start (\u0434\u0430\u0442\u0430) \u2014 \u043d\u0430\u0447\u0430\u043b\u043e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. - dt_end (\u0434\u0430\u0442\u0430) \u2014 \u043a\u043e\u043d\u0435\u0446 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. - status (\u0441\u0442\u0440\u043e\u043a\u0430) \u2014 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (\u0441\u043e\u0437\u0434\u0430\u043d\u043e, \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u043e, \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e \u0438 \u0442. \u0434.). class Reservation(models.Model): RESERVATION_TYPES = ( ('cr', 'Created'), ('ap', 'Approved'), ('ca', 'Canceled'), ('ci', 'Checked in'), ('co', 'Checked out'), ) user = models.ForeignKey(User, on_delete=models.CASCADE) room = models.ForeignKey(Room, on_delete=models.CASCADE) dt_start = models.DateField() dt_end = models.DateField() status = models.CharField(max_length=15, choices=RESERVATION_TYPES, default='cr') Review \u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0442\u0437\u044b\u0432\u044b \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u0433\u043e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - reservation (\u0441\u0432\u044f\u0437\u044c \u043e\u0434\u0438\u043d-\u043a-\u043e\u0434\u043d\u043e\u043c\u0443) \u2014 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u0434\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u043e\u0442\u0437\u044b\u0432. - author (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u0430\u0432\u0442\u043e\u0440 \u043e\u0442\u0437\u044b\u0432\u0430. - text (\u0442\u0435\u043a\u0441\u0442) \u2014 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u0430. - rating (\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e) \u2014 \u043e\u0446\u0435\u043d\u043a\u0430 \u043e\u0442 1 \u0434\u043e 10. class Review(models.Model): reservation = models.OneToOneField(Reservation, on_delete=models.CASCADE) author = models.ForeignKey(User, on_delete=models.CASCADE) text = models.TextField() rating = models.PositiveIntegerField( validators=[ MinValueValidator(1), MaxValueValidator(10) ] ) def __str__(self): return f\"{self.student} - {self.homework}\" \u0412\u044b\u0432\u043e\u0434 \u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0442\u0435\u043b\u0435\u0439 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u043c\u0435\u0440\u0430\u043c\u0438, \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u0438 \u043e\u0442\u0437\u044b\u0432\u0430\u043c\u0438. \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0433\u0438\u0431\u043a\u043e\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u043c \u0437\u0430\u0434\u0430\u0447\u0430\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u044b.","title":"\u041c\u043e\u0434\u0435\u043b\u0438"},{"location":"models/#_1","text":"","title":"\u041e\u0442\u0447\u0435\u0442 \u043f\u043e \u043c\u043e\u0434\u0435\u043b\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0442\u0435\u043b\u0435\u0439"},{"location":"models/#_2","text":"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0442\u0435\u043b\u0435\u0439 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0430, \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0442\u0437\u044b\u0432\u044b \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430\u043c\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u041e\u043d\u0430 \u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u043a\u0430\u043a \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 (\u0433\u043e\u0441\u0442\u0435\u0439), \u0442\u0430\u043a \u0438 \u043d\u0430 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043e\u0442\u0435\u043b\u0435\u0439, \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044f \u0443\u0434\u043e\u0431\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043e\u0431 \u043e\u0442\u0435\u043b\u044f\u0445, \u043d\u043e\u043c\u0435\u0440\u0430\u0445 \u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\u0445.","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"},{"location":"models/#_3","text":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f\u043c\u0438 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430\u043c\u0438. \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u0430\u043c\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0438\u0445 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438 \u043e\u0441\u043d\u0430\u0449\u0435\u043d\u0438\u0435. \u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438, \u0441 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 \u0441\u0442\u0430\u0442\u0443\u0441\u043e\u0432 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (\u0441\u043e\u0437\u0434\u0430\u043d\u043e, \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u043e, \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e \u0438 \u0434\u0440.). \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0445 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u0413\u0438\u0431\u043a\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043d\u043e\u043c\u0435\u0440\u043e\u0432 \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0438\u0445 \u0442\u0438\u043f\u0430 \u0438 \u043d\u0430\u0431\u043e\u0440\u0430 \u0443\u0434\u043e\u0431\u0441\u0442\u0432.","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u044b:"},{"location":"models/#_4","text":"","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u043b\u0435\u0439"},{"location":"models/#roomtype","text":"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0442\u0438\u043f \u043d\u043e\u043c\u0435\u0440\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0434\u043d\u043e\u043c\u0435\u0441\u0442\u043d\u044b\u0439, \u043b\u044e\u043a\u0441 \u0438 \u0442. \u0434.). \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - room_type (\u0441\u0442\u0440\u043e\u043a\u0430) \u2014 \u0442\u0438\u043f \u043d\u043e\u043c\u0435\u0440\u0430. class RoomType(models.Model): room_type = models.CharField(max_length=120) def __str__(self): return self.room_type","title":"RoomType"},{"location":"models/#convenience","text":"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0432 \u043d\u043e\u043c\u0435\u0440\u0430\u0445 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, Wi-Fi, \u043a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440). \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - convenience (\u0441\u0442\u0440\u043e\u043a\u0430) \u2014 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430. class Convenience(models.Model): convenience = models.CharField(max_length=120) def __str__(self): return self.convenience","title":"Convenience"},{"location":"models/#hotel","text":"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u0425\u0440\u0430\u043d\u0438\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u043e\u0442\u0435\u043b\u044f\u0445, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430\u043c\u0438. \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - name (\u0441\u0442\u0440\u043e\u043a\u0430) \u2014 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f. - description (\u0442\u0435\u043a\u0441\u0442) \u2014 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f. - address (\u0441\u0442\u0440\u043e\u043a\u0430) \u2014 \u0430\u0434\u0440\u0435\u0441 \u043e\u0442\u0435\u043b\u044f. - owner (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043e\u0442\u0435\u043b\u044f). class Hotel(models.Model): name = models.CharField(max_length=120) description = models.TextField() address = models.CharField(max_length=120) owner = models.ForeignKey(User, on_delete=models.CASCADE) def __str__(self): return self.name","title":"Hotel"},{"location":"models/#room","text":"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u043d\u043e\u043c\u0435\u0440\u0430 \u0432 \u043e\u0442\u0435\u043b\u044f\u0445. \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - hotel (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u043e\u0442\u0435\u043b\u044c, \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0438\u0442 \u043d\u043e\u043c\u0435\u0440. - n_people (\u0447\u0438\u0441\u043b\u043e) \u2014 \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0430. - cost (\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e) \u2014 \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0430 \u0437\u0430 \u0434\u0435\u043d\u044c. - room_type (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u0442\u0438\u043f \u043d\u043e\u043c\u0435\u0440\u0430. - conveniences (\u0441\u0432\u044f\u0437\u044c \u043c\u043d\u043e\u0433\u0438\u0435-\u043a\u043e-\u043c\u043d\u043e\u0433\u0438\u043c) \u2014 \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0434\u043e\u0431\u0441\u0442\u0432 \u043d\u043e\u043c\u0435\u0440\u0430. class Room(models.Model): hotel = models.ForeignKey(Hotel, on_delete=models.CASCADE) n_people = models.IntegerField() cost = models.PositiveIntegerField() room_type = models.ForeignKey(RoomType, on_delete=models.CASCADE) conveniences = models.ManyToManyField(Convenience) def __str__(self): return f'room {self.id} in {self.hotel.name}'","title":"Room"},{"location":"models/#reservation","text":"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u041e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u043e\u043c\u0435\u0440\u043e\u0432. \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - user (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u0434\u0435\u043b\u0430\u043b \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435. - room (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u043d\u043e\u043c\u0435\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0440\u043e\u043d\u0438\u0440\u0443\u0435\u0442\u0441\u044f. - dt_start (\u0434\u0430\u0442\u0430) \u2014 \u043d\u0430\u0447\u0430\u043b\u043e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. - dt_end (\u0434\u0430\u0442\u0430) \u2014 \u043a\u043e\u043d\u0435\u0446 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. - status (\u0441\u0442\u0440\u043e\u043a\u0430) \u2014 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0441\u0442\u0430\u0442\u0443\u0441 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (\u0441\u043e\u0437\u0434\u0430\u043d\u043e, \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u043e, \u043e\u0442\u043c\u0435\u043d\u0435\u043d\u043e \u0438 \u0442. \u0434.). class Reservation(models.Model): RESERVATION_TYPES = ( ('cr', 'Created'), ('ap', 'Approved'), ('ca', 'Canceled'), ('ci', 'Checked in'), ('co', 'Checked out'), ) user = models.ForeignKey(User, on_delete=models.CASCADE) room = models.ForeignKey(Room, on_delete=models.CASCADE) dt_start = models.DateField() dt_end = models.DateField() status = models.CharField(max_length=15, choices=RESERVATION_TYPES, default='cr')","title":"Reservation"},{"location":"models/#review","text":"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435: \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0442\u0437\u044b\u0432\u044b \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e\u0433\u043e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b: - reservation (\u0441\u0432\u044f\u0437\u044c \u043e\u0434\u0438\u043d-\u043a-\u043e\u0434\u043d\u043e\u043c\u0443) \u2014 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u0434\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u043e\u0442\u0437\u044b\u0432. - author (\u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u043a\u043b\u044e\u0447) \u2014 \u0430\u0432\u0442\u043e\u0440 \u043e\u0442\u0437\u044b\u0432\u0430. - text (\u0442\u0435\u043a\u0441\u0442) \u2014 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u0430. - rating (\u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e) \u2014 \u043e\u0446\u0435\u043d\u043a\u0430 \u043e\u0442 1 \u0434\u043e 10. class Review(models.Model): reservation = models.OneToOneField(Reservation, on_delete=models.CASCADE) author = models.ForeignKey(User, on_delete=models.CASCADE) text = models.TextField() rating = models.PositiveIntegerField( validators=[ MinValueValidator(1), MaxValueValidator(10) ] ) def __str__(self): return f\"{self.student} - {self.homework}\"","title":"Review"},{"location":"models/#_5","text":"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0442\u0435\u043b\u0435\u0439 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0432\u0441\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u043c\u0435\u0440\u0430\u043c\u0438, \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\u043c\u0438 \u0438 \u043e\u0442\u0437\u044b\u0432\u0430\u043c\u0438. \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0433\u0438\u0431\u043a\u043e\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u043c \u0437\u0430\u0434\u0430\u0447\u0430\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u044b.","title":"\u0412\u044b\u0432\u043e\u0434"},{"location":"pagination/","text":"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439: \u043f\u043e\u0438\u0441\u043a \u0438 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043e\u0442\u0435\u043b\u0435\u0439 \u0431\u044b\u043b\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0438. \u041f\u043e\u0438\u0441\u043a \u041f\u043e\u0438\u0441\u043a \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d \u0447\u0435\u0440\u0435\u0437 GET-\u0437\u0430\u043f\u0440\u043e\u0441. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u0438\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u0432 \u043f\u043e\u043b\u0435 \u043f\u043e\u0438\u0441\u043a\u0430, \u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439 \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u0435\u0442\u0441\u044f \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c. \u041f\u043e\u0438\u0441\u043a \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043f\u043e\u043b\u044f\u043c: - \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f ( name ). - \u0418\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 ( owner__username ). \u041f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u0434\u0430 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u043e\u0438\u0441\u043a\u0430: query = request.GET.get('q') hotels = Hotel.objects.all() if query: hotels = hotels.filter( Q(name__icontains=query) | Q(owner__username__icontains=query) ) \u041f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f \u041d\u0430 \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0442\u0435\u043b\u0435\u0439 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, 3). \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c\u0441\u044f \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u043c\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0441\u0441\u044b\u043b\u043e\u043a: \"first\", \"previous\", \"next\", \"last\". \u041f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u0434\u0430 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0438: paginator = Paginator(hotels, 3) # \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043f\u043e 3 \u043e\u0442\u0435\u043b\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 page_number = request.GET.get('page') page_obj = paginator.get_page(page_number) context = { 'page_obj': page_obj, 'hotels': page_obj, 'query': query, } return render(request, 'hotel/hotel_list.html', context) \u0428\u0430\u0431\u043b\u043e\u043d hotel_list.html \u0428\u0430\u0431\u043b\u043e\u043d \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0435\u0439. \u041a\u0430\u0436\u0434\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442: - \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f. - \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435. - \u0418\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430. - \u0410\u0434\u0440\u0435\u0441. - \u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433. \u041a\u043e\u0434 \u0448\u0430\u0431\u043b\u043e\u043d\u0430: {% extends 'base.html' %} {% block title %}Hotel List{% endblock %} {% block main_contents %} <h1>Hotels available</h1> <ul> {% for hotel, rating in hotel_ratings.items %} <li> <a href=\"/hotels/{{ hotel.id }}/\" style=\"color: black\"> <div class=\"container\"> <div class=\"row\"> <div class=\"col\"> <div class=\"h4\">{{ hotel.name }}</div> <p class=\"h5\">Description</p> <p>{{ hotel.description }}</p> </div> <div class=\"col\"> <div class=\"h5\">Owner</div> <p>{{ hotel.owner.username }}</p> <p>Address: {{ hotel.address }}</p> <p>Average rating: {{ rating }}</p> </div> </div> </div> </a> <hr> </li> {% endfor %} </ul> <div class=\"pagination\"> <span class=\"step-links\"> {% if page_obj.has_previous %} <a href=\"?page=1\">&laquo; first</a> <a href=\"?page={{ page_obj.previous_page_number }}\">previous</a> {% endif %} <span class=\"current\"> Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}. </span> {% if page_obj.has_next %} <a href=\"?page={{ page_obj.next_page_number }}\">next</a> <a href=\"?page={{ page_obj.paginator.num_pages }}\">last &raquo;</a> {% endif %} </span> </div> {% endblock %} \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e: 1. \u041d\u0430\u0439\u0442\u0438 \u043e\u0442\u0435\u043b\u0438 \u043f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c, \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u043c \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430. 2. \u0423\u0434\u043e\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c\u0441\u044f \u043f\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u043e\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0438.","title":"\u041f\u043e\u0438\u0441\u043a \u0438 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f"},{"location":"pagination/#_1","text":"","title":"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439: \u043f\u043e\u0438\u0441\u043a \u0438 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f"},{"location":"pagination/#_2","text":"\u041d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0441\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u043e\u0442\u0435\u043b\u0435\u0439 \u0431\u044b\u043b\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0438.","title":"\u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f"},{"location":"pagination/#_3","text":"\u041f\u043e\u0438\u0441\u043a \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d \u0447\u0435\u0440\u0435\u0437 GET-\u0437\u0430\u043f\u0440\u043e\u0441. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u0438\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u0432 \u043f\u043e\u043b\u0435 \u043f\u043e\u0438\u0441\u043a\u0430, \u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439 \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u0435\u0442\u0441\u044f \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c. \u041f\u043e\u0438\u0441\u043a \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u043f\u043e\u043b\u044f\u043c: - \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f ( name ). - \u0418\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 ( owner__username ). \u041f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u0434\u0430 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u043e\u0438\u0441\u043a\u0430: query = request.GET.get('q') hotels = Hotel.objects.all() if query: hotels = hotels.filter( Q(name__icontains=query) | Q(owner__username__icontains=query) )","title":"\u041f\u043e\u0438\u0441\u043a"},{"location":"pagination/#_4","text":"\u041d\u0430 \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0442\u0435\u043b\u0435\u0439 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, 3). \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c\u0441\u044f \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u043c\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0441\u0441\u044b\u043b\u043e\u043a: \"first\", \"previous\", \"next\", \"last\". \u041f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u0434\u0430 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0438: paginator = Paginator(hotels, 3) # \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043f\u043e 3 \u043e\u0442\u0435\u043b\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 page_number = request.GET.get('page') page_obj = paginator.get_page(page_number) context = { 'page_obj': page_obj, 'hotels': page_obj, 'query': query, } return render(request, 'hotel/hotel_list.html', context)","title":"\u041f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u044f"},{"location":"pagination/#hotel_listhtml","text":"\u0428\u0430\u0431\u043b\u043e\u043d \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439 \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0435\u0439. \u041a\u0430\u0436\u0434\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442: - \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f. - \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435. - \u0418\u043c\u044f \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430. - \u0410\u0434\u0440\u0435\u0441. - \u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433. \u041a\u043e\u0434 \u0448\u0430\u0431\u043b\u043e\u043d\u0430: {% extends 'base.html' %} {% block title %}Hotel List{% endblock %} {% block main_contents %} <h1>Hotels available</h1> <ul> {% for hotel, rating in hotel_ratings.items %} <li> <a href=\"/hotels/{{ hotel.id }}/\" style=\"color: black\"> <div class=\"container\"> <div class=\"row\"> <div class=\"col\"> <div class=\"h4\">{{ hotel.name }}</div> <p class=\"h5\">Description</p> <p>{{ hotel.description }}</p> </div> <div class=\"col\"> <div class=\"h5\">Owner</div> <p>{{ hotel.owner.username }}</p> <p>Address: {{ hotel.address }}</p> <p>Average rating: {{ rating }}</p> </div> </div> </div> </a> <hr> </li> {% endfor %} </ul> <div class=\"pagination\"> <span class=\"step-links\"> {% if page_obj.has_previous %} <a href=\"?page=1\">&laquo; first</a> <a href=\"?page={{ page_obj.previous_page_number }}\">previous</a> {% endif %} <span class=\"current\"> Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}. </span> {% if page_obj.has_next %} <a href=\"?page={{ page_obj.next_page_number }}\">next</a> <a href=\"?page={{ page_obj.paginator.num_pages }}\">last &raquo;</a> {% endif %} </span> </div> {% endblock %}","title":"\u0428\u0430\u0431\u043b\u043e\u043d hotel_list.html"},{"location":"pagination/#_5","text":"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e: 1. \u041d\u0430\u0439\u0442\u0438 \u043e\u0442\u0435\u043b\u0438 \u043f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u043c, \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u043c \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430. 2. \u0423\u0434\u043e\u0431\u043d\u043e \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0442\u044c\u0441\u044f \u043f\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u043e\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0438.","title":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"},{"location":"views/","text":"\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0412\u0441\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u044b\u043b\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u043a\u0430\u043a \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0442\u0438\u043b\u0435, \u0442\u0430\u043a \u0438 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043a\u043b\u0430\u0441\u0441\u043e\u0432. \u041e\u043d\u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0442 \u043f\u043e\u043b\u043d\u044b\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438, \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\u043c\u0438, \u043e\u0442\u0435\u043b\u044f\u043c\u0438 \u0438 \u043e\u0442\u0437\u044b\u0432\u0430\u043c\u0438. \u041e\u0431\u0449\u0438\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u044b \u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \"\u0430\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439\", \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d. def IndexView(request): return render(request, 'index.html', context={'username': request.user.username or 'anonymous'}) \u0412\u044b\u0445\u043e\u0434 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430, \u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443. def logout_view(request): logout(request) return redirect('/') \u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0432\u0438\u0434 \u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433 \u0431\u0430\u0437\u043e\u0432\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430. def test_view(request): return render(request, 'base.html') \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0447\u0435\u0440\u0435\u0437 \u0444\u043e\u0440\u043c\u0443. \u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u0445\u043e\u0434\u0430. class RegisterView(View): def get(self, request): form = CustomUserCreationForm() return render(request, 'register.html', {'form': form}) def post(self, request): form = CustomUserCreationForm(request.POST) if form.is_valid(): form.save() return redirect('/login/') return render(request, 'register.html', {'form': form}) \u041e\u0442\u0435\u043b\u0438 \u0438 \u043a\u043e\u043c\u043d\u0430\u0442\u044b \u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439 \u0412\u044b\u0432\u043e\u0434\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439 \u0441 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0435\u0439 (10 \u043e\u0442\u0435\u043b\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443). \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0441\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442\u0435\u043b\u044f. class HotelListView(ListView): model = Hotel template_name = 'hotels/list.html' context_object_name = 'hotels_list' paginate_by = 10 def get_context_data(self, *args, **kwargs): context = super().get_context_data(*args, **kwargs) context.update({ \"hotel_ratings\": { h: Review.objects.filter(reservation__room__hotel=h).aggregate(Avg('rating'))['rating__avg'] or 'No data' for h in context['hotels_list'] } }) return context \u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0442\u0435\u043b\u044f \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u043e\u0442\u0435\u043b\u0435, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043d\u0430\u0442 \u0438 \u043e\u0442\u0437\u044b\u0432\u044b. class HotelDetailView(DetailView): model = Hotel template_name = 'hotels/details.html' def get_context_data(self, *args, **kwargs): context = super().get_context_data(**kwargs) context.update({ \"hotel_rooms\": Room.objects.filter(hotel=context['hotel']), \"review_list\": Review.objects.filter(reservation__room__hotel=context['hotel']), }) return context \u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u043d\u0430\u0442\u044b \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u043e\u043c\u043d\u0430\u0442\u0435, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0430\u0442\u044b \u0438 \u0444\u043e\u0440\u043c\u0443 \u0434\u043b\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. class RoomDetailView(DetailView): model = Room template_name = 'room/details.html' def get_context_data(self, *args, **kwargs): context = super().get_context_data(**kwargs) dt_start = self.request.GET.get('dt_start') or datetime.today().date() dt_end = self.request.GET.get('dt_end') or datetime.today().date() + timedelta(days=30) dt_start = parse_or_return(dt_start) dt_end = parse_or_return(dt_end) reservations = Reservation.objects.filter(Q(room=context['room']) & (Q(dt_end__gt=dt_start) | Q(dt_end__lte=dt_end))) possible_dates = [dt_start + timedelta(days=i) for i in range((dt_end - dt_start).days + 1)] for res in reservations: for dt_possible in range((res.dt_end - res.dt_start).days + 1): try: possible_dates.remove(res.dt_start + timedelta(days=dt_possible)) except ValueError: pass context.update({ \"possible_dates\": [t.strftime('%d/%m/%Y') for t in possible_dates], \"form\": ReservationForm }) return context \u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0434\u0430\u0442. @require_POST @login_required def create_reservation(request, pk): room = get_object_or_404(Room, pk=pk) dt_start = parse_or_return(request.POST.get('dt_start')) dt_end = parse_or_return(request.POST.get('dt_end')) current_date = datetime.today() if dt_start > dt_end: messages.error(request, 'Error: Start date > End Date') return redirect(f'/room/{pk}/') if current_date > dt_start: messages.error(request, \"Error: You can't reserve room in the past\") return redirect(f'/room/{pk}/') reservations = Reservation.objects.filter(Q(room=room) & (Q(dt_end__gt=dt_start) | Q(dt_end__lte=dt_end))) possible_dates = [dt_start + timedelta(days=i) for i in range((dt_end - dt_start).days + 1)] form = ReservationForm(request.POST) for res in reservations: for dt_possible in range((res.dt_end - res.dt_start).days + 1): try: possible_dates.remove(res.dt_start + timedelta(days=dt_possible)) except ValueError: pass if dt_start in possible_dates and dt_end in possible_dates: try: if form.is_valid(): reservation = form.save(commit=False) reservation.room = room reservation.user = request.user reservation.save() messages.success(request, 'Reservation created successfully!') return redirect(f'/room/{pk}/', pk=pk) else: messages.error(request, 'Please correct the errors below.') except ValueError: return HttpResponseForbidden(\"Bad data\") return messages.error(request, \"Reservation not created.\") \u0421\u043f\u0438\u0441\u043e\u043a \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u0412\u044b\u0432\u043e\u0434\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. class BookingsListView(LoginRequiredMixin, ListView): model = Reservation template_name = 'bookings/list.html' context_object_name = 'reservations' def get_queryset(self): if self.request.user.is_authenticated: return Reservation.objects.filter(user=self.request.user) return Reservation.objects.none() \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0423\u0434\u0430\u043b\u044f\u0435\u0442 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438\u043c\u0435\u0435\u0442 \u043d\u0430 \u044d\u0442\u043e \u043f\u0440\u0430\u0432\u043e. class BookingDeleteView(LoginRequiredMixin, DeleteView): model = Reservation template_name = 'bookings/delete.html' success_url = reverse_lazy('bookings') def post(self, request, *args, **kwargs): instance = self.get_object() if instance.user != self.request.user: return HttpResponseForbidden(\"You do not have permission to delete this object.\") return super().post(request, *args, **kwargs) \u041e\u0442\u0437\u044b\u0432\u044b \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u0430 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0437\u044b\u0432 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0441\u0432\u043e\u0435\u0433\u043e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. class ReviewCreateView(LoginRequiredMixin, CreateView): model = Review template_name = 'bookings/create.html' fields = ['text', 'rating'] success_url = reverse_lazy('bookings') def form_valid(self, form): form.instance.author = self.request.user reservation = get_object_or_404(Reservation, pk=self.kwargs['pk']) if reservation.user != self.request.user: return HttpResponseForbidden(\"You do not have permission to review this reservation.\") form.instance.reservation = reservation return super().form_valid(form)","title":"\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f"},{"location":"views/#_1","text":"\u0412\u0441\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u044b\u043b\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u044b \u043a\u0430\u043a \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0442\u0438\u043b\u0435, \u0442\u0430\u043a \u0438 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043a\u043b\u0430\u0441\u0441\u043e\u0432. \u041e\u043d\u0438 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0442 \u043f\u043e\u043b\u043d\u044b\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438, \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\u043c\u0438, \u043e\u0442\u0435\u043b\u044f\u043c\u0438 \u0438 \u043e\u0442\u0437\u044b\u0432\u0430\u043c\u0438.","title":"\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f"},{"location":"views/#_2","text":"","title":"\u041e\u0431\u0449\u0438\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u043b\u0435\u0440\u044b"},{"location":"views/#_3","text":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \"\u0430\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439\", \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d. def IndexView(request): return render(request, 'index.html', context={'username': request.user.username or 'anonymous'})","title":"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"},{"location":"views/#_4","text":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430, \u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443. def logout_view(request): logout(request) return redirect('/')","title":"\u0412\u044b\u0445\u043e\u0434 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"},{"location":"views/#_5","text":"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043d\u0433 \u0431\u0430\u0437\u043e\u0432\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430. def test_view(request): return render(request, 'base.html')","title":"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0432\u0438\u0434"},{"location":"views/#_6","text":"","title":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"},{"location":"views/#_7","text":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0447\u0435\u0440\u0435\u0437 \u0444\u043e\u0440\u043c\u0443. \u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0432\u0445\u043e\u0434\u0430. class RegisterView(View): def get(self, request): form = CustomUserCreationForm() return render(request, 'register.html', {'form': form}) def post(self, request): form = CustomUserCreationForm(request.POST) if form.is_valid(): form.save() return redirect('/login/') return render(request, 'register.html', {'form': form})","title":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},{"location":"views/#_8","text":"","title":"\u041e\u0442\u0435\u043b\u0438 \u0438 \u043a\u043e\u043c\u043d\u0430\u0442\u044b"},{"location":"views/#_9","text":"\u0412\u044b\u0432\u043e\u0434\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439 \u0441 \u043f\u0430\u0433\u0438\u043d\u0430\u0446\u0438\u0435\u0439 (10 \u043e\u0442\u0435\u043b\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443). \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0441\u0440\u0435\u0434\u043d\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442\u0435\u043b\u044f. class HotelListView(ListView): model = Hotel template_name = 'hotels/list.html' context_object_name = 'hotels_list' paginate_by = 10 def get_context_data(self, *args, **kwargs): context = super().get_context_data(*args, **kwargs) context.update({ \"hotel_ratings\": { h: Review.objects.filter(reservation__room__hotel=h).aggregate(Avg('rating'))['rating__avg'] or 'No data' for h in context['hotels_list'] } }) return context","title":"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439"},{"location":"views/#_10","text":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u043e\u0442\u0435\u043b\u0435, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u043e\u043c\u043d\u0430\u0442 \u0438 \u043e\u0442\u0437\u044b\u0432\u044b. class HotelDetailView(DetailView): model = Hotel template_name = 'hotels/details.html' def get_context_data(self, *args, **kwargs): context = super().get_context_data(**kwargs) context.update({ \"hotel_rooms\": Room.objects.filter(hotel=context['hotel']), \"review_list\": Review.objects.filter(reservation__room__hotel=context['hotel']), }) return context","title":"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u0442\u0435\u043b\u044f"},{"location":"views/#_11","text":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u043e\u043c\u043d\u0430\u0442\u0435, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0434\u043b\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0430\u0442\u044b \u0438 \u0444\u043e\u0440\u043c\u0443 \u0434\u043b\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. class RoomDetailView(DetailView): model = Room template_name = 'room/details.html' def get_context_data(self, *args, **kwargs): context = super().get_context_data(**kwargs) dt_start = self.request.GET.get('dt_start') or datetime.today().date() dt_end = self.request.GET.get('dt_end') or datetime.today().date() + timedelta(days=30) dt_start = parse_or_return(dt_start) dt_end = parse_or_return(dt_end) reservations = Reservation.objects.filter(Q(room=context['room']) & (Q(dt_end__gt=dt_start) | Q(dt_end__lte=dt_end))) possible_dates = [dt_start + timedelta(days=i) for i in range((dt_end - dt_start).days + 1)] for res in reservations: for dt_possible in range((res.dt_end - res.dt_start).days + 1): try: possible_dates.remove(res.dt_start + timedelta(days=dt_possible)) except ValueError: pass context.update({ \"possible_dates\": [t.strftime('%d/%m/%Y') for t in possible_dates], \"form\": ReservationForm }) return context","title":"\u0414\u0435\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043e\u043c\u043d\u0430\u0442\u044b"},{"location":"views/#_12","text":"","title":"\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"},{"location":"views/#_13","text":"\u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u0434\u0430\u0442. @require_POST @login_required def create_reservation(request, pk): room = get_object_or_404(Room, pk=pk) dt_start = parse_or_return(request.POST.get('dt_start')) dt_end = parse_or_return(request.POST.get('dt_end')) current_date = datetime.today() if dt_start > dt_end: messages.error(request, 'Error: Start date > End Date') return redirect(f'/room/{pk}/') if current_date > dt_start: messages.error(request, \"Error: You can't reserve room in the past\") return redirect(f'/room/{pk}/') reservations = Reservation.objects.filter(Q(room=room) & (Q(dt_end__gt=dt_start) | Q(dt_end__lte=dt_end))) possible_dates = [dt_start + timedelta(days=i) for i in range((dt_end - dt_start).days + 1)] form = ReservationForm(request.POST) for res in reservations: for dt_possible in range((res.dt_end - res.dt_start).days + 1): try: possible_dates.remove(res.dt_start + timedelta(days=dt_possible)) except ValueError: pass if dt_start in possible_dates and dt_end in possible_dates: try: if form.is_valid(): reservation = form.save(commit=False) reservation.room = room reservation.user = request.user reservation.save() messages.success(request, 'Reservation created successfully!') return redirect(f'/room/{pk}/', pk=pk) else: messages.error(request, 'Please correct the errors below.') except ValueError: return HttpResponseForbidden(\"Bad data\") return messages.error(request, \"Reservation not created.\")","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"},{"location":"views/#_14","text":"\u0412\u044b\u0432\u043e\u0434\u0438\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. class BookingsListView(LoginRequiredMixin, ListView): model = Reservation template_name = 'bookings/list.html' context_object_name = 'reservations' def get_queryset(self): if self.request.user.is_authenticated: return Reservation.objects.filter(user=self.request.user) return Reservation.objects.none()","title":"\u0421\u043f\u0438\u0441\u043e\u043a \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439"},{"location":"views/#_15","text":"\u0423\u0434\u0430\u043b\u044f\u0435\u0442 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435, \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438\u043c\u0435\u0435\u0442 \u043d\u0430 \u044d\u0442\u043e \u043f\u0440\u0430\u0432\u043e. class BookingDeleteView(LoginRequiredMixin, DeleteView): model = Reservation template_name = 'bookings/delete.html' success_url = reverse_lazy('bookings') def post(self, request, *args, **kwargs): instance = self.get_object() if instance.user != self.request.user: return HttpResponseForbidden(\"You do not have permission to delete this object.\") return super().post(request, *args, **kwargs)","title":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"},{"location":"views/#_16","text":"","title":"\u041e\u0442\u0437\u044b\u0432\u044b"},{"location":"views/#_17","text":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043e\u0442\u0437\u044b\u0432 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0441\u0432\u043e\u0435\u0433\u043e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. class ReviewCreateView(LoginRequiredMixin, CreateView): model = Review template_name = 'bookings/create.html' fields = ['text', 'rating'] success_url = reverse_lazy('bookings') def form_valid(self, form): form.instance.author = self.request.user reservation = get_object_or_404(Reservation, pk=self.kwargs['pk']) if reservation.user != self.request.user: return HttpResponseForbidden(\"You do not have permission to review this reservation.\") form.instance.reservation = reservation return super().form_valid(form)","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u0430"}]}